<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cybersecurity Awareness Project</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Plausible Analytics (optional) -->
  <script async src="https://plausible.io/js/pa-LFE95pZWwvSX5YAEZKjUU.js"></script>
  <script>
    window.plausible = window.plausible || function () {
      (plausible.q = plausible.q || []).push(arguments)
    };
    plausible.init = plausible.init || function (i) {
      plausible.o = i || {};
    };
    plausible.init();
  </script>

  <style>
    body {
      font-family: sans-serif;
      max-width: 650px;
      margin: 60px auto;
      line-height: 1.6;
      text-align: center;
    }
    button {
      padding: 12px 20px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 6px;
      background-color: #2b6cb0;
      color: white;
    }
    button:hover {
      background-color: #2c5282;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <h1>Cybersecurity Awareness Project</h1>
  <p>
    By pressing the button below, you acknowledge that basic technical data (browser, OS, screen size, etc.)
    will be collected for educational research purposes. No personal identity information (like name or email)
    will be requested or stored.
  </p>

  <button id="consentBtn">Proceed (Data Will Be Collected)</button>

  <!-- Netlify Form (registered at build time) -->
  <form name="device-data" netlify netlify-honeypot="bot-field" action="thank-you.html" hidden>
    <p class="hidden">
      <label>Don’t fill this out if you’re human: <input name="bot-field"></label>
    </p>
    <input type="hidden" name="user_agent">
    <input type="hidden" name="browser">
    <input type="hidden" name="os">
    <input type="hidden" name="screen_size">
    <input type="hidden" name="language">
    <input type="hidden" name="timezone">
    <input type="hidden" name="timestamp">
  </form>

  <script>
    function parseBrowser(ua) {
      if (ua.includes("Firefox")) return "Firefox";
      if (ua.includes("Edg")) return "Edge";
      if (ua.includes("Chrome")) return "Chrome";
      if (ua.includes("Safari")) return "Safari";
      return "Unknown";
    }

    function parseOS(ua) {
      if (ua.includes("Windows")) return "Windows";
      if (ua.includes("Mac")) return "MacOS";
      if (ua.includes("Linux")) return "Linux";
      if (ua.includes("Android")) return "Android";
      if (ua.includes("iPhone") || ua.includes("iPad")) return "iOS";
      return "Unknown";
    }

    document.getElementById("consentBtn").addEventListener("click", () => {
      plausible("consent_given");

      const f = document.forms["device-data"];
      const ua = navigator.userAgent;

      f.user_agent.value = ua;
      f.browser.value = parseBrowser(ua);
      f.os.value = parseOS(ua);
      f.screen_size.value = `${window.innerWidth}x${window.innerHeight}`;
      f.language.value = navigator.language;
      f.timezone.value = Intl.DateTimeFormat().resolvedOptions().timeZone;
      f.timestamp.value = new Date().toISOString();

      plausible("device-data-submitted");
      f.submit();
    });
  </script>

</body>
</html>
